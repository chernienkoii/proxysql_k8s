datadir="/var/lib/proxysql"

admin_variables =
{
        admin_credentials="admin:admin"
        checksum_admin_variables="true"
        checksum_ldap_variables="true"
        checksum_mysql_query_rules="true"
        checksum_mysql_servers="true"
        checksum_mysql_users="true"
        checksum_mysql_variables="true"
        cluster_admin_variables_diffs_before_sync="3"
        cluster_admin_variables_save_to_disk="true"
        cluster_check_interval_ms="1000"
        cluster_check_status_frequency="10"
        cluster_ldap_variables_diffs_before_sync="3"
        cluster_ldap_variables_save_to_disk="true"
        cluster_mysql_query_rules_diffs_before_sync="3"
        cluster_mysql_query_rules_save_to_disk="true"
        cluster_mysql_servers_diffs_before_sync="3"
        cluster_mysql_servers_save_to_disk="true"
        cluster_mysql_users_diffs_before_sync="3"
        cluster_mysql_users_save_to_disk="true"
        cluster_mysql_variables_diffs_before_sync="3"
        cluster_mysql_variables_save_to_disk="true"
        cluster_proxysql_servers_diffs_before_sync="3"
        cluster_proxysql_servers_save_to_disk="true"
        hash_passwords="true"
        mysql_ifaces="0.0.0.0:6032"
        prometheus_memory_metrics_interval="61"
        read_only="false"
        refresh_interval="2000"
        restapi_enabled="true"
        restapi_port="6070"
        stats_credentials="stats:stats"
        stats_mysql_connection_pool="60"
        stats_mysql_connections="60"
        stats_mysql_query_cache="60"
        stats_mysql_query_digest_to_disk="0"
        stats_system_cpu="60"
        stats_system_memory="60"
        vacuum_stats="true"
        web_enabled="false"
        web_port="6080"
        web_verbosity="0"
}

mysql_variables =
{
        auditlog_filesize="104857600"
        aurora_max_lag_ms_only_read_from_replicas="2"
        auto_increment_delay_multiplex="5"
        autocommit_false_is_transaction="false"
        autocommit_false_not_reusable="false"
        automatic_detect_sqli="false"
        binlog_reader_connect_retry_msec="3000"
        client_found_rows="true"
        client_host_cache_size="0"
        client_host_error_counts="0"
        client_multi_statements="true"
        client_session_track_gtid="true"
        commands_stats="true"
        connect_retries_delay="1"
        connect_retries_on_failure="10"
        connect_timeout_client="10000"
        connect_timeout_server="3000"
        connect_timeout_server_max="10000"
        connection_delay_multiplex_ms="0"
        connection_max_age_ms="0"
        connection_warming="false"
        connpoll_reset_queue_length="50"
        default_charset="utf8"
        default_collation_connection="utf8_general_ci"
        default_max_latency_ms="1000"
        default_query_delay="0"
        default_query_timeout="36000000"
        default_reconnect="true"
        default_schema="information_schema"
        default_session_track_gtids="OFF"
        default_tx_isolation="READ-COMMITTED"
        enable_client_deprecate_eof="true"
        enable_load_data_local_infile="false"
        enable_server_deprecate_eof="true"
        enforce_autocommit_on_reads="false"
        eventslog_default_log="0"
        eventslog_filesize="104857600"
        eventslog_format="2"
        firewall_whitelist_enabled="false"
        firewall_whitelist_errormsg="Firewall blocked this query"
        free_connections_pct="10"
        handle_unknown_charset="1"
        have_compress="true"
        have_ssl="false"
        hostgroup_manager_verbose="1"
        interfaces="0.0.0.0:6033"
        keep_multiplexing_variables="tx_isolation,version"
        kill_backend_connection_when_disconnect="true"
        log_mysql_warnings_enabled="false"
        log_unhealthy_connections="true"
        long_query_time="1000"
        max_allowed_packet="1073741824"
        max_connections="10000"
        max_stmts_cache="10000"
        max_stmts_per_connection="20"
        max_transaction_idle_time="14400000"
        max_transaction_time="14400000"
        min_num_servers_lantency_awareness="1000"
        mirror_max_concurrency="16"
        mirror_max_queue_length="32000"
        monitor_connect_interval="60000"
        monitor_connect_timeout="600"
        monitor_enabled="true"
        monitor_galera_healthcheck_interval="5000"
        monitor_galera_healthcheck_max_timeout_count="3"
        monitor_galera_healthcheck_timeout="800"
        monitor_groupreplication_healthcheck_interval="5000"
        monitor_groupreplication_healthcheck_max_timeout_count="3"
        monitor_groupreplication_healthcheck_timeout="800"
        monitor_groupreplication_max_transactions_behind_count="3"
        monitor_groupreplication_max_transactions_behind_for_read_only="1"
        monitor_history="600000"
        monitor_password="proxysql"
        monitor_ping_interval="10000"
        monitor_ping_max_failures="3"
        monitor_ping_timeout="1000"
        monitor_query_interval="60000"
        monitor_query_timeout="100"
        monitor_read_only_interval="1500"
        monitor_read_only_max_timeout_count="3"
        monitor_read_only_timeout="500"
        monitor_replication_lag_count="1"
        monitor_replication_lag_interval="10000"
        monitor_replication_lag_timeout="1000"
        monitor_slave_lag_when_null="60"
        monitor_threads_max="128"
        monitor_threads_min="8"
        monitor_threads_queue_maxsize="128"
        monitor_username="proxysql"
        monitor_wait_timeout="true"
        monitor_writer_is_also_reader="true"
        multiplexing="true"
        ping_interval_server_msec="120000"
        ping_timeout_server="500"
        poll_timeout="2000"
        poll_timeout_on_failure="100"
        query_cache_size_MB="256"
        query_cache_stores_empty_result="true"
        query_digests="true"
        query_digests_grouping_limit="3"
        query_digests_lowercase="false"
        query_digests_max_digest_length="2048"
        query_digests_max_query_length="65000"
        query_digests_no_digits="false"
        query_digests_normalize_digest_text="false"
        query_digests_replace_null="false"
        query_digests_track_hostname="true"
        query_processor_iterations="0"
        query_processor_regex="1"
        query_retries_on_failure="1"
        reset_connection_algorithm="2"
        server_capabilities="569899"
        server_version="8.0.19"
        servers_stats="true"
        session_idle_ms="1"
        session_idle_show_processlist="true"
        sessions_sort="true"
        set_query_lock_on_hostgroup="1"
        show_processlist_extended="0"
        shun_on_failures="5"
        shun_recovery_time_sec="10"
        stacksize="1048576"
        stats_time_backend_query="false"
        stats_time_query_processor="false"
        tcp_keepalive_time="0"
        threads="4"
        threshold_query_length="524288"
        threshold_resultset_size="4194304"
        throttle_connections_per_sec_to_hostgroup="1000000"
        throttle_max_bytes_per_second_to_client="0"
        throttle_ratio_server_to_client="0"
        use_tcp_keepalive="false"
        verbose_query_error="false"
        wait_timeout="28800000"
}
mysql_users:
(
        {
                username="username"
                password="password"
                active=1
                use_ssl=0
                default_hostgroup=1
                schema_locked=0
                transaction_persistent=1
                fast_forward=0
                backend=1
                frontend=1
                max_connections=100000
        },
        {
                username="username-console"
                password="password-console"
                active=1
                use_ssl=0
                default_hostgroup=2
                schema_locked=0
                transaction_persistent=1
                fast_forward=0
                backend=1
                frontend=1
                max_connections=10000
        }
)
mysql_query_rules:
(

)
mysql_servers:
(
        {
                hostgroup_id=1
                hostname="10.1.1.101"
                port=3306
                max_connections=10000
                comment="group for apps"
        },
        {
                hostgroup_id=2
                hostname="10.1.1.101"
                port=3306
                max_connections=10000
                comment="group for console apps"
        },
        {
                hostgroup_id=1
                hostname="10.1.1.102"
                port=3306
                max_connections=10000
                comment="group for apps"
        },
        {
                hostgroup_id=2
                hostname="10.1.1.102"
                port=3306
                max_connections=10000
                comment="group for console apps"
        },
        {
                hostgroup_id=1
                hostname="10.1.1.103"
                port=3306
                max_connections=10000
                comment="group for apps"
        },
        {
                hostgroup_id=2
                hostname="10.1.1.103"
                port=3306
                max_connections=10000
                comment="group for console apps"
        },
                {
                hostgroup_id=1
                hostname="10.1.1.104"
                port=3306
                max_connections=10000
                comment="group for apps"
        },
        {
                hostgroup_id=2
                hostname="10.1.1.104"
                port=3306
                max_connections=10000
                comment="group for console apps"
        },
                {
                hostgroup_id=1
                hostname="10.1.1.105"
                port=3306
                max_connections=10000
                comment="group for apps"
        },
        {
                hostgroup_id=2
                hostname="10.1.1.105"
                port=3306
                max_connections=10000
                comment="group for console apps"
        },
)
mysql_replication_hostgroups:
(

)
mysql_group_replication_hostgroups:
(

)
mysql_galera_hostgroups:
(
        {
                writer_hostgroup=2
                backup_writer_hostgroup=4
                reader_hostgroup=3
                offline_hostgroup=5
                active=1
                max_writers=1
                writer_is_also_reader=1
                max_transactions_behind=100
        }
)
mysql_aws_aurora_hostgroups:
(

)
scheduler:
(

)
restapi:
(

)
proxysql_servers:
(

)
